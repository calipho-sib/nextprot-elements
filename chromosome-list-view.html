<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="nextprot-elements-shared-styles.html">
<link rel="import" href="chromosome-entry-view.html">
<link rel="import" href="external-scripts.html">

<!--
`chromosome-list-view`
View list of chromosome names.

##### Example
    <chromosome-list-view />
@demo demo/chromosome-list-view-demo.html
-->

<dom-module id="chromosome-list-view">

    <template>
        <div id="chromosomeListViewContainer">
            <ul class=" submenu collapse in">
            <template is="dom-repeat" items="[[chromosomes]]" >
                <li class="list-group-item">
                    <a href="#">Chromosome [[item]]</a>
                    <!--<chromosome-entry-view chromosome="[[item]]"></chromosome-entry-view>-->
                </li>
            </template>
            </ul>
        </div>
    </template>
    <script>
        Polymer({
            is: 'chromosome-list-view',
            ready: function () {

                this._fetchChromosomeNames()
            },
            _fetchChromosomeNames: function() {
                var self = this;

                this.npClient = new Nextprot.Client("neXtProt chromosomes", "Calipho Group");
                this.npClient.setApiBaseUrl("http://localhost:8080/");

                this.npClient.getChromosomes().then(function(response){
                    Polymer.RenderStatus.afterNextRender(self, function() {
                        self.chromosomes = response;
                    });
                });
            }
        });
    </script>
</dom-module>