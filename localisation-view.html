<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="protein-overview.html">
<link rel="import" href="generic-annotation-section.html">
<link rel="import" href="nextprot-elements-shared-styles.html">
<!--
`localisation-view`
View listing protein function annotations.

#### Example

          <localisation-view nx-config='{"entry": "P52701"}'></localisation-view>

@demo demo/localisation-view-demo.html
-->
<dom-module id="localisation-view">
    <template>
        <style include="nextprot-elements-shared-styles">
            :host {
                display: block;
                background:#ECF0F1;
                overflow-y: auto;
            }
        </style>
        <div class="row">
            <div id="nxOverview" class="col-md-12">
                <protein-overview nx-config="[[nxConfig]]"></protein-overview>
            </div>
        </div>
        <div id="noDataWarning" class='alert alert-warning noData' hidden>There is no function information available in neXtProt for {{nxConfig.entry}}.
            Suggestions for updates are welcome! Please <a href='mailto:support@nextprot.org'>contact us</a>.
        </div>
        <div class="row">
            <div id="nxAnnotations" class="col-md-12">
                <generic-annotation-section nx-config="[[nxConfig]]" gold-only="[[goldOnly]]"
                                            count="{{annotationsCount}}"
                                            categories='["SUBCELLULAR-LOCATION", "SUBCELLULAR-LOCATION-NOTE", "GO-CELLULAR-COMPONENT"]'>
                </generic-annotation-section>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: 'localisation-view',
            properties: {
                nxConfig: {
                    type: Object,
                    value: {}
                },
                goldOnly: {
                    type: Boolean,
                    value: false
                },
                annotationsCount: {
                    type: Number,
                    observer: "_checkAnnotations"
                }
            },
            _checkAnnotations: function(){
                if(this.annotationsCount===0){
                    this.$.nxAnnotations.hidden=true;
                    this.$.noDataWarning.hidden=false;
                } else {
                    this.$.nxAnnotations.hidden=false;
                    this.$.noDataWarning.hidden=true;
                }
            }
        });
    </script>
</dom-module>